#!/bin/bash

# Cross-platform clean script entry point

set -e

detect_platform() {
    if [[ "$OSTYPE" == "darwin"* ]] || [[ "$OSTYPE" == "linux"* ]]; then
        echo "unix"
    elif [[ "$OSTYPE" == "msys" ]] || [[ "$OSTYPE" == "cygwin" ]] || [[ "$OSTYPE" == "win32" ]]; then
        echo "windows"
    else
        echo "unknown"
    fi
}

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PLATFORM=$(detect_platform)

case $PLATFORM in
    "unix")
        "$SCRIPT_DIR/unix/clean.sh"
        ;;
    "windows")
        "$SCRIPT_DIR/windows/clean.bat"
        ;;
    *)
        echo "‚ùå Unsupported platform. Please run the appropriate script manually."
        exit 1
        ;;
esac